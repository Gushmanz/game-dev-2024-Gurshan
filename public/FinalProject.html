<h6> Version 0.0.1 </h6>

<body id="myBody" style="background-repeat:repeat; background-size: 80%" background="myBackground01.jpg">

<h1 align=center>Platformer Game Template by Fred</h1>
<br><br><br><br>

<script>

// Global variables
let myGlobalX = 0;
let myClock;
let gravity = 2;
let velocityY = 0;
let isJumping = false;
let platforms = [{top: 400, left: 50, width: 300, height: 20}]; // Example platform

// Function to check collision between two elements
function myHitOther(my1, my2) {
    let left1   = parseInt(document.getElementById(my1).style.left);
    let right1  = left1 + parseInt(document.getElementById(my1).style.width);
    let top1    = parseInt(document.getElementById(my1).style.top);
    let bottom1 = top1 + parseInt(document.getElementById(my1).style.height);
    let left2   = parseInt(document.getElementById(my2).style.left);
    let right2  = left2 + parseInt(document.getElementById(my2).style.width);
    let top2    = parseInt(document.getElementById(my2).style.top);
    let bottom2 = top2 + parseInt(document.getElementById(my2).style.height);
    return (right1 >= left2 && bottom1 >= top2 && left1 <= right2 && top1 <= bottom2);
}

// Check if the player is on a platform
function isOnPlatform() {
    let player = document.getElementById('myImg01');
    let playerBottom = parseInt(player.style.top) + parseInt(player.style.height);
    let playerLeft = parseInt(player.style.left);
    let playerRight = playerLeft + parseInt(player.style.width);

    return platforms.some(platform => {
        let platformTop = platform.top;
        let platformLeft = platform.left;
        let platformRight = platform.left + platform.width;
        return (
            playerBottom >= platformTop &&
            playerBottom <= platformTop + 5 && // Tolerance for landing
            playerRight > platformLeft &&
            playerLeft < platformRight
        );
    });
}

// Gravity function
function applyGravity() {
    let player = document.getElementById('myImg01');
    let playerTop = parseInt(player.style.top);

    if (!isOnPlatform() && playerTop < window.innerHeight - player.offsetHeight) {
        velocityY += gravity;
        player.style.top = playerTop + velocityY + 'px';
    } else if (isOnPlatform()) {
        velocityY = 0;
        isJumping = false;
    }
}

// Jump function
function jump() {
    if (!isJumping && isOnPlatform()) {
        velocityY = -20;
        isJumping = true;
    }
}

// Move player left or right
function movePlayer(direction) {
    let player = document.getElementById('myImg01');
    let newLeft = parseInt(player.style.left) + direction;
    player.style.left = newLeft + 'px';
    myCheckHit(); // Check collisions
}

// Check for collisions
function myCheckHit() {
    if (myHitOther('myImg01', 'myImg02')) {
        alert('You lose!');
        location.reload();
    }
}

// Game loop
setInterval(applyGravity, 50);

</script>

<!-- Player -->
<img id="myImg01" style="position:absolute; width:100px; height:80px; top:0px; left:50px;" src="myImage01.jpg">

<!-- Obstacle -->
<img id="myImg02" style="position:absolute; width:100px; height:80px; top:300px; left:250px;" src="myImage02.jpg">

<!-- Platform -->
<div style="position:absolute; width:300px; height:20px; background-color:brown; top:400px; left:50px;"></div>

<!-- Controls -->
<input type=button value="Move Left" onclick="movePlayer(-10)">
<input type=button value="Move Right" onclick="movePlayer(10)">
<input type=button value="Jump" onclick="jump()">

</body>
